# 版本說明 - vS0001-2

## 版本信息
- **版本號**: vS0001-2
- **發布日期**: 2026-01-XX

## 更新內容

### 新增功能

#### 系統設定 - 檔案管理功能
1. **導出存檔**
   - 可導出完整系統備份為JSON格式
   - 包含內容：
     - 系統設定（API設定、手續費設定、交易設定、UI設定）
     - 幣別設定
     - 交易記錄
     - 證券帳戶
     - 銀行帳戶
     - 交割記錄
     - 歷史收益
     - 庫存管理（計算結果）

2. **載入存檔(覆蓋)**
   - 可從JSON檔案載入完整備份並還原所有數據
   - 自動處理ID映射，確保數據關聯正確性
   - 包含確認提示，防止誤操作

3. **導出庫存股票資料**
   - 導出當前庫存股票資料到Excel格式

4. **導出已實現損益資料**
   - 導出已實現損益交易記錄到Excel格式

### 優化改進

- **性能優化**
  - 優化導入存檔功能，減少重複API調用
  - 提升導入效率

- **數據映射改進**
  - 改進證券帳戶和銀行帳戶ID映射邏輯
  - 確保數據關聯正確性

- **用戶體驗**
  - 更新說明文字，將「股票資料」改為「交易記錄」，更準確反映實際內容
  - 改進檔案選擇UI，使用繁體中文標籤

### 技術改進

- 優化變數作用域管理
- 改進錯誤處理機制
- 提升代碼質量

## 使用說明

### 導出存檔
1. 進入「系統設定」→「檔案」頁面
2. 點擊「導出存檔」按鈕
3. 系統會自動下載JSON格式的備份檔案
4. 檔案名稱格式：`系統完整備份_YYYY-MM-DD.json`

### 載入存檔
1. 進入「系統設定」→「檔案」頁面
2. 點擊「選擇檔案」按鈕
3. 選擇之前導出的JSON備份檔案
4. 確認操作（此操作無法復原）
5. 系統會自動還原所有數據

## 注意事項

- 載入存檔會覆蓋現有數據，請謹慎操作
- 建議在載入存檔前先導出當前數據作為備份
- 庫存管理數據為計算結果，導出僅供參考，不會直接導入

