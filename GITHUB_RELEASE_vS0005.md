# vS0005 Release

## 📦 版本資訊

- **版本號**: vS0005
- **發布日期**: 2026-01-08
- **發布類型**: Feature Update & Bug Fix

---

## 🎯 主要更新

### ✨ 新功能

#### 1. 使用指南第7步驟 - 讚賞碼區域
- 新增第7步驟，包含讚賞碼和聯絡資訊
- Email 連結：**icoolhome001@gmail.com**（可點擊發送郵件）
- 優化的視覺呈現，使用橙色主題

#### 2. 持有成本整數顯示
- 國內股票庫存明細中所有持有成本自動四捨五入到整數
- 每一行明細、小計、總計都正確顯示為整數（無小數點）

---

## 🐛 Bug 修復

### 1. 持有成本顯示問題
**修復**：持有成本不再顯示小數點（如 `62254.99` → `62255`）

**影響範圍**：
- 國內股票庫存明細每一行的持有成本
- 小計的持有成本
- 總計的持有成本

### 2. 計算精度問題
**修復**：累加計算時的浮點數精度誤差

**技術細節**：
- 後端計算使用 `Math.round()` 四捨五入
- 前端累加時每個值都先四捨五入
- 確保最終結果為整數

---

## 🔧 改進

### 1. Node.js 中文支援
- 所有 Node.js 腳本添加 UTF-8 編碼支援
- 確保中文輸出正確顯示（無亂碼）
- 改進安裝、啟動、停止腳本的中文顯示

### 2. 桌面捷徑建立
- 改為提示用戶手動建立桌面捷徑
- 提供詳細的建立說明（兩種方法）
- 避免自動建立失敗的問題

### 3. 代碼優化
- 改進前端格式化函數
- 優化後端計算邏輯
- 加強錯誤處理

---

## 📝 使用說明

### 持有成本顯示
所有國內股票庫存明細的持有成本都會顯示為整數：
- 每一行明細：四捨五入到整數
- 小計：四捨五入到整數
- 總計：四捨五入到整數

### 使用指南第7步驟
1. 進入「使用指南」頁面
2. 查看第7步驟（讚賞碼區域）
3. 可直接點擊 email 連結發送郵件

### 手動建立桌面捷徑
**方法一**：右鍵檔案 → 「傳送到」→「桌面 (建立捷徑)」  
**方法二**：按住 Alt 鍵，拖曳檔案到桌面

---

## ⚠️ 升級說明

### 升級前
- 建議先備份資料（系統設定 → 導出存檔）
- 停止當前運行的服務

### 升級步驟
1. 執行 `stop-node.bat` 停止服務
2. 執行 `setup-node.bat` 更新系統
3. 執行 `start-node.bat` 重新啟動
4. 清除瀏覽器緩存（Ctrl + F5）

### 升級後檢查
- ✅ 持有成本顯示為整數
- ✅ 使用指南第7步驟正常顯示
- ✅ Email 連結可正常點擊
- ✅ 中文輸出正常顯示

---

## 📞 技術支援

如有任何問題，歡迎聯繫：**icoolhome001@gmail.com**

---

## 📚 相關文件

- [安裝說明.md](./安裝說明.md)
- [RELEASE_vS0005.md](./RELEASE_vS0005.md)
- [README.md](./README.md)

---

## 🔄 完整更新記錄

詳細的更新記錄請查看：[RELEASE_vS0005.md](./RELEASE_vS0005.md)

---

## 📥 下載

請從 GitHub Releases 頁面下載最新版本。

**檔案**：
- Source code (zip)
- Source code (tar.gz)

**安裝方式**：
1. 下載並解壓縮
2. 執行 `setup-node.bat`
3. 執行 `start-node.bat`

---

**感謝您的使用！** 🎉






